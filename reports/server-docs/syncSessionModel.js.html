<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: syncSessionModel.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: syncSessionModel.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @classdesc This is the model to be used for storing Syncopate user sessions. Each session ID
 * will be uniquely generated and checked against the current database. Song and playback
 * status is tracked and can be changed, as well as the current list of users in the session.
 * @class SyncSessionModel is the model for the backend which holds the list of users,
 * owner of the session, current song playing, and status of playback
 * @argument uid The ID of the user who owns the session
 * @argument spotName The Spotify username of the user who owns the session
 * @constructor Creates new session with currSong as null and adds session owner
 * to list of users, and sets their ID as the session's owner ID
 */
class SyncSessionModel {
    constructor(uid, spotName) {
        this.uid = uid; // Holds userID
        this.users = []; // List of users in this Syncopate session
        this.users.push({ userID: uid, spotName }); // Add user who created session to session
        this.currSong = null; // Current song playing
        this.isPlaying = false; // Playback status
    }

    /**
     * Getter for current song playing in this session
     * @returns String The current song playing
     */
    getSong() {
        return this.currSong;
    }

    /**
     * Adds a new user to the Syncopate session
     * @param {*} uid The user ID which will be added to the Syncopate session
     */
    addUser(uid) {
        this.users.push(uid);
    }

    /**
     * Removes a user from this session's list of users
     * @param {*} uid The user ID which will be removed from the Syncopate session
     */
    removeUser(uid) {
        this.users.splice(this.users.indexOf(uid));
    }

    /**
     * Changes current playback status to opposite of current status
     * (i.e. either true for playing or false for not playing)
     */
    changePlaybackStatus() {
        if (this.isPlaying === true) this.isPlaying = false;
        else this.isPlaying = true;
    }
}

/**
 * Code courtesy of https://gist.github.com/gordonbrander/2230317 and user alexmorleyfinch
 * @returns Unique String to be used as a session identifier
 */
function uniqueID() {
    function chr4() {
        return Math.random().toString(16).slice(-4);
    }
    return `${chr4()}`;
}

export { SyncSessionModel, uniqueID }; // Export model and ID generator
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Creates%2520new%2520session%2520with%2520currSong%2520as%2520null%2520and%2520adds%2520session%2520owner%250Dto%2520list%2520of%2520users,%2520and%2520sets%2520their%2520ID%2520as%2520the%2520session_s%2520owner%2520ID.html">Creates new session with currSong as null and adds session ownerto list of users, and sets their ID as the session's owner ID</a></li></ul><h3>Global</h3><ul><li><a href="global.html#connection">connection</a></li><li><a href="global.html#uniqueID">uniqueID</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Fri Apr 23 2021 21:05:04 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
